(function(e){function s(e,t){var n=e.callbackPoint;var r=t.callbackPoint;return n<r?-1:n>r?1:0}function o(e,t,n){if(e.StartParaPoint*n<=t&&e.EndParaPoint*n>=t){return 1}else{if(e.StartParaPoint*n>t){return 2}else{return 3}}}function u(e,n,r){var i=e.callbackPoint*r;if(n>t&&i<=n&&i>=t){e.CallbackDown()}else{if(n<=t&&i>=n&&i<=t){e.CallbackUp()}}}function a(e,t,n){e.HtmlObject.css(e.CssProperty,((e.EndValue-e.StartValue)*((t-e.StartParaPoint*n)/(e.EndParaPoint*n-e.StartParaPoint*n))+e.StartValue).toString()+e.IsProcentage)}var t=0;var n=0;var r;var i=e(window);e.SParallax=function(f,l){this.ApplyParallax=function(){var n=r.scrollTop();var s=i.height();var c=[];var h=0;if(n>t){for(h=0;h<l.length;h++){u(l[h],n,s)}}else{for(h=l.length-1;h>=0;h--){u(l[h],n,s)}}for(var p=0;p<f.length;p++){switch(o(f[p],n,s)){case 1:a(f[p],n,s);c.push(f[p].HtmlObject.selector);break;case 2:if(e.inArray(f[p].HtmlObject.selector,c)==-1){a(f[p],f[p].StartParaPoint*s,s)}break;case 3:if(e.inArray(f[p].HtmlObject.selector,c)==-1){a(f[p],f[p].EndParaPoint*s,s)}break}}t=n};this.Refresh=function(){e("body").height(i.height()*n);this.ApplyParallax()};this.Init=function(){if(navigator.userAgent.indexOf("Chrome")>-1){r=e("body")}else{if(navigator.userAgent.indexOf("Safari")>-1){r=e("body")}else{if(navigator.userAgent.indexOf("Opera")>-1){r=e("html")}else{if(navigator.userAgent.indexOf("Firefox")>-1){r=e("html")}else{if(navigator.userAgent.indexOf("MSIE")>-1){r=e("html")}else{r=e("html")}}}}}var t=this;l.sort(s);for(var o=0;o<f.length;o++){if(f[o].EndParaPoint>n){n=f[o].EndParaPoint}}n=n+1;e("body").height(i.height()*n);t.ApplyParallax();i.scroll(function(){t.ApplyParallax()}).resize(function(){t.Refresh()});setTimeout(function(){for(var e=0;e<f.length;e++){f[e].HtmlObject.css({transition:"all 0.3s linear 0s",transform:"translate3d(0,0,0)","-webkit-transition":"all 0.3s linear 0s","-webkit-transform":"translate3d(0,0,0)","-moz-transition":"all 0.3s linear 0s","-moz-transform":"translate3d(0,0,0)","-o-transition":"all 0.3s linear 0s","-o-transform":"translate3d(0,0,0)","-ms-transition":"all 0.3s linear 0s","-ms-transform":"translate3d(0,0,0)"})}},300)};this.Init()};e.SParallax.ScrollTo=function(e,t){var n=300;if(typeof t!=typeof "undefined"){n=t}r.stop().animate({scrollTop:i.height()*e},Math.abs(Math.round(r.scrollTop()/i.height())-e)*n)};e.SParallax.GetCurrentPoint=function(){return Math.round(r.scrollTop()/i.height())};e.SParallax.Transition=function(e,t,n,r,i,s,o){this.CssProperty=e;this.StartValue=t;this.EndValue=n;this.IsProcentage=r;this.HtmlObject=i;this.StartParaPoint=s;this.EndParaPoint=o};e.SParallax.TransitionEvent=function(e,t,n){this.CallbackUp=e;this.CallbackDown=t;this.callbackPoint=n}})(jQuery)